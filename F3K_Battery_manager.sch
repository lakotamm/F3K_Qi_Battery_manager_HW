EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:linear
LIBS:regul
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:lakotamm-microprocessors
LIBS:lakotamm-powersupply
LIBS:lakotamm-sensor
LIBS:lakotamm-transistor
LIBS:lakotamm-wireless
LIBS:MCU_ST_STM32
LIBS:Transistor
LIBS:Connector
LIBS:F3K_Battery_manager-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4850 1950 1750 4200
U 5A9B3060
F0 "MCU" 60
F1 "MCU.sch" 60
F2 "NRST" I L 4850 2450 60 
F3 "SWCLK" I L 4850 2150 60 
F4 "SWDIO" B L 4850 2350 60 
F5 "USART_RX" I L 4850 3100 60 
F6 "HAL_SEN_1" I L 4850 5600 60 
F7 "HAL_SEN_2" I L 4850 5800 60 
F8 "BUZZER" O R 6600 2700 60 
F9 "BATT_Voltage" I L 4850 4150 60 
F10 "USART_TX" B L 4850 3200 60 
F11 "~CHARGING" I L 4850 4350 60 
F12 "Voltage_control" O R 6600 4000 60 
F13 "Enable_boost" O R 6600 4200 60 
F14 "Charge_control" O L 4850 4550 60 
F15 "LPUART_TX" B R 6600 3450 60 
F16 "Output_Voltage" I R 6600 4400 60 
F17 "Output_Current" I R 6600 4550 60 
$EndSheet
$Comp
L Conn_01x04 J3
U 1 1 5AA070CB
P 4250 2250
F 0 "J3" H 4250 2450 50  0000 C CNN
F 1 "Debug" H 4250 1950 50  0000 C CNN
F 2 "" H 4250 2250 50  0001 C CNN
F 3 "" H 4250 2250 50  0001 C CNN
	1    4250 2250
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR7
U 1 1 5AA0735F
P 4650 2500
F 0 "#PWR7" H 4650 2250 50  0001 C CNN
F 1 "GND" H 4650 2350 50  0000 C CNN
F 2 "" H 4650 2500 50  0001 C CNN
F 3 "" H 4650 2500 50  0001 C CNN
	1    4650 2500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR8
U 1 1 5AA07C91
P 4650 3350
F 0 "#PWR8" H 4650 3100 50  0001 C CNN
F 1 "GND" H 4650 3200 50  0000 C CNN
F 2 "" H 4650 3350 50  0001 C CNN
F 3 "" H 4650 3350 50  0001 C CNN
	1    4650 3350
	1    0    0    -1  
$EndComp
$Comp
L DRV5032 U1
U 1 1 5AA08B55
P 3850 5700
F 0 "U1" H 4200 5350 60  0000 C CNN
F 1 "DRV5032" H 3600 5350 60  0000 C CNN
F 2 "lakotamm-sensor:X2SON_4_1.10x1.40mm" H 3900 5250 60  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/drv5032.pdf" H 3850 5150 60  0001 C CNN
F 4 "DRV5032FD" H 3850 5700 60  0001 C CNN "MPN"
	1    3850 5700
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 5AA08E27
P 2850 5700
F 0 "C1" H 2875 5800 50  0000 L CNN
F 1 "2u2 6V3" V 2700 5550 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 2888 5550 50  0001 C CNN
F 3 "" H 2850 5700 50  0001 C CNN
F 4 "GRM155D80J225KE95D" H 2850 5700 60  0001 C CNN "MPN"
	1    2850 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 2150 4850 2150
Wire Wire Line
	4450 2250 4650 2250
Wire Wire Line
	4650 2250 4650 2500
Wire Wire Line
	4450 2350 4850 2350
Wire Wire Line
	4450 2450 4850 2450
Wire Wire Line
	4850 3100 4450 3100
Wire Wire Line
	4450 3200 4850 3200
Wire Wire Line
	4450 3300 4650 3300
Wire Wire Line
	4650 3300 4650 3350
$Comp
L GND #PWR6
U 1 1 5AA09559
P 3100 6000
F 0 "#PWR6" H 3100 5750 50  0001 C CNN
F 1 "GND" H 3100 5850 50  0000 C CNN
F 2 "" H 3100 6000 50  0001 C CNN
F 3 "" H 3100 6000 50  0001 C CNN
	1    3100 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	3200 5700 3100 5700
Wire Wire Line
	3100 5700 3100 6000
Wire Wire Line
	3200 5900 3100 5900
Connection ~ 3100 5900
$Comp
L VDD #PWR5
U 1 1 5AA0982A
P 3100 5400
F 0 "#PWR5" H 3100 5250 50  0001 C CNN
F 1 "VDD" H 3100 5550 50  0000 C CNN
F 2 "" H 3100 5400 50  0001 C CNN
F 3 "" H 3100 5400 50  0001 C CNN
	1    3100 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 5400 3100 5500
Wire Wire Line
	3100 5500 3200 5500
$Comp
L VDD #PWR3
U 1 1 5AA09936
P 2850 5400
F 0 "#PWR3" H 2850 5250 50  0001 C CNN
F 1 "VDD" H 2850 5550 50  0000 C CNN
F 2 "" H 2850 5400 50  0001 C CNN
F 3 "" H 2850 5400 50  0001 C CNN
	1    2850 5400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR4
U 1 1 5AA0996B
P 2850 6000
F 0 "#PWR4" H 2850 5750 50  0001 C CNN
F 1 "GND" H 2850 5850 50  0000 C CNN
F 2 "" H 2850 6000 50  0001 C CNN
F 3 "" H 2850 6000 50  0001 C CNN
	1    2850 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 5400 2850 5550
Wire Wire Line
	2850 5850 2850 6000
Wire Wire Line
	4450 5600 4850 5600
Wire Wire Line
	4450 5800 4850 5800
$Comp
L Buzzer BZ1
U 1 1 5AA0FFE4
P 7350 2350
F 0 "BZ1" H 7500 2400 50  0000 L CNN
F 1 "Buzzer" H 7500 2300 50  0000 L CNN
F 2 "" V 7325 2450 50  0001 C CNN
F 3 "http://cirlw3yrzg4afc1x47lv2k18.wpengine.netdna-cdn.com/wp-content/uploads/2016/12/ST-0402T-old.pdf" V 7325 2450 50  0001 C CNN
F 4 "ST-0402T" H 7350 2350 60  0001 C CNN "MPN"
	1    7350 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7200 2150 7200 2250
Wire Wire Line
	7200 2250 7250 2250
Wire Wire Line
	7250 2450 7200 2450
Wire Wire Line
	7200 2450 7200 2500
$Comp
L GND #PWR10
U 1 1 5AA112B0
P 7200 3150
F 0 "#PWR10" H 7200 2900 50  0001 C CNN
F 1 "GND" H 7200 3000 50  0000 C CNN
F 2 "" H 7200 3150 50  0001 C CNN
F 3 "" H 7200 3150 50  0001 C CNN
	1    7200 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	7200 2900 7200 3150
Wire Wire Line
	6600 2700 6900 2700
$Comp
L +BATT #PWR9
U 1 1 5AA3F1DA
P 7200 2150
F 0 "#PWR9" H 7200 2000 50  0001 C CNN
F 1 "+BATT" H 7200 2290 50  0000 C CNN
F 2 "" H 7200 2150 50  0001 C CNN
F 3 "" H 7200 2150 50  0001 C CNN
	1    7200 2150
	1    0    0    -1  
$EndComp
$Sheet
S 7100 3600 2050 1250
U 5AA4001F
F0 "Boost converter" 60
F1 "boost_converter.sch" 60
F2 "VOUT" O R 9150 4000 60 
F3 "ENA" I L 7100 4200 60 
F4 "Voltage_control" I L 7100 4000 60 
F5 "Output_voltage" O L 7100 4400 60 
F6 "Output_current" O L 7100 4550 60 
$EndSheet
Wire Wire Line
	6600 4200 7100 4200
Wire Wire Line
	6600 4000 7100 4000
$Comp
L Conn_01x03 J5
U 1 1 5AA45C5D
P 10300 4000
F 0 "J5" H 10300 4200 50  0000 C CNN
F 1 "Receiver" H 10300 3800 50  0000 C CNN
F 2 "" H 10300 4000 50  0001 C CNN
F 3 "" H 10300 4000 50  0001 C CNN
	1    10300 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	9150 4000 10100 4000
$Comp
L GND #PWR11
U 1 1 5AA460B2
P 9300 4300
F 0 "#PWR11" H 9300 4050 50  0001 C CNN
F 1 "GND" H 9300 4150 50  0000 C CNN
F 2 "" H 9300 4300 50  0001 C CNN
F 3 "" H 9300 4300 50  0001 C CNN
	1    9300 4300
	1    0    0    -1  
$EndComp
Wire Wire Line
	10100 4100 9300 4100
Wire Wire Line
	9300 4100 9300 4300
$Comp
L Conn_01x03 J4
U 1 1 5AA46769
P 4250 3200
F 0 "J4" H 4250 3400 50  0000 C CNN
F 1 "Serial" H 4250 3000 50  0000 C CNN
F 2 "" H 4250 3200 50  0001 C CNN
F 3 "" H 4250 3200 50  0001 C CNN
	1    4250 3200
	-1   0    0    -1  
$EndComp
Text Notes 3450 5350 0    60   ~ 0
Hall efect switch\n
$Comp
L R R2
U 1 1 5AA59CAF
P 9900 3900
F 0 "R2" V 9980 3900 50  0000 C CNN
F 1 "680R" V 9900 3900 50  0000 C CNN
F 2 "Resistors_SMD:R_0402" V 9830 3900 50  0001 C CNN
F 3 "" H 9900 3900 50  0001 C CNN
	1    9900 3900
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10050 3900 10100 3900
Text Label 6700 3450 0    60   ~ 0
LPUART_TX
Wire Wire Line
	9700 3900 9750 3900
Wire Wire Line
	4250 4150 4850 4150
$Comp
L CSD13385F5 Q1
U 1 1 5AA728A9
P 2300 2800
F 0 "Q1" V 2250 2900 50  0000 L CNN
F 1 "CSD13385F5" V 2550 2550 50  0000 L CNN
F 2 "" H 2500 2725 50  0001 L CIN
F 3 "http://www.ti.com/lit/ds/symlink/csd13385f5.pdf" H 1600 2500 50  0001 L CNN
F 4 "CSD13385F5" H 2400 3100 60  0001 C CNN "MPN"
	1    2300 2800
	0    -1   1    0   
$EndComp
Wire Wire Line
	1900 2550 2800 2550
Wire Wire Line
	2300 2550 2300 2550
$Comp
L +BATT #PWR2
U 1 1 5AA74E47
P 2800 2500
F 0 "#PWR2" H 2800 2350 50  0001 C CNN
F 1 "+BATT" H 2800 2640 50  0000 C CNN
F 2 "" H 2800 2500 50  0001 C CNN
F 3 "" H 2800 2500 50  0001 C CNN
	1    2800 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 2550 2800 2500
Connection ~ 2300 2550
$Comp
L GND #PWR1
U 1 1 5AA7526D
P 2700 2950
F 0 "#PWR1" H 2700 2700 50  0001 C CNN
F 1 "GND" H 2700 2800 50  0000 C CNN
F 2 "" H 2700 2950 50  0001 C CNN
F 3 "" H 2700 2950 50  0001 C CNN
	1    2700 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	2500 2900 2700 2900
Wire Wire Line
	2700 2900 2700 2950
$Comp
L Conn_01x04 J1
U 1 1 5AB08D80
P 1700 2450
F 0 "J1" H 1700 2650 50  0000 C CNN
F 1 "Battery" H 1700 2150 50  0000 C CNN
F 2 "" H 1700 2450 50  0001 C CNN
F 3 "" H 1700 2450 50  0001 C CNN
	1    1700 2450
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1900 2650 2000 2650
Wire Wire Line
	2000 2650 2000 2900
Wire Wire Line
	2000 2900 2100 2900
Text Label 2000 2450 0    60   ~ 0
Thermistor
Wire Wire Line
	1900 2450 2000 2450
Wire Wire Line
	2300 2550 2300 2600
$Sheet
S 2100 3850 2150 1200
U 5AA3AC9F
F0 "Charger" 60
F1 "charger.sch" 60
F2 "Coil_1" I L 2100 4050 60 
F3 "Coil_2" I L 2100 4150 60 
F4 "Battery_voltage" O R 4250 4150 60 
F5 "Thermistor" I L 2100 4450 60 
F6 "~CHARGING" O R 4250 4350 60 
F7 "Charge_control" I R 4250 4550 60 
F8 "Thermistor_OFF" I L 2100 4600 60 
$EndSheet
$Comp
L Conn_01x02 J2
U 1 1 5AB11894
P 1700 4150
F 0 "J2" H 1700 4250 50  0000 C CNN
F 1 "Coil" H 1700 3950 50  0000 C CNN
F 2 "" H 1700 4150 50  0001 C CNN
F 3 "" H 1700 4150 50  0001 C CNN
	1    1700 4150
	-1   0    0    1   
$EndComp
Wire Wire Line
	2100 4050 1900 4050
Wire Wire Line
	1900 4150 2100 4150
Text Label 2000 4450 2    60   ~ 0
Thermistor
Wire Wire Line
	2000 4450 2100 4450
Wire Wire Line
	4250 4350 4850 4350
Text Label 2000 2350 0    60   ~ 0
Thermistor_OFF
Wire Wire Line
	1900 2350 2000 2350
Text Label 2000 4600 2    60   ~ 0
Thermistor_OFF
Wire Wire Line
	2000 4600 2100 4600
$Comp
L Antenna_Loop AE1
U 1 1 5AB2F1C7
P 1150 4150
F 0 "AE1" H 1200 4400 50  0000 C CNN
F 1 "Antenna_Loop" H 1200 4350 50  0000 C CNN
F 2 "" H 1150 4150 50  0001 C CNN
F 3 "https://www.vishay.com/docs/34338/iwas3827.pdf" H 1150 4150 50  0001 C CNN
F 4 "IWAS3827ECEB100J50" H 1150 4150 60  0001 C CNN "MPN"
	1    1150 4150
	0    -1   -1   0   
$EndComp
NoConn ~ 1350 4050
NoConn ~ 1350 4150
Text Notes 650  3800 0    60   ~ 0
Antenna - only for Kicost\n
Wire Wire Line
	4250 4550 4850 4550
$Comp
L CSD13380F3 Q2
U 1 1 5AB5A73F
P 7100 2700
F 0 "Q2" H 7300 2775 50  0000 L CNN
F 1 "CSD13380F3" H 7300 2700 50  0000 L CNN
F 2 "" H 7300 2625 50  0001 L CIN
F 3 "http://www.ti.com/product/CSD13380F3" H 6400 2400 50  0001 L CNN
	1    7100 2700
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5AB6270F
P 6850 2900
F 0 "R1" V 6930 2900 50  0000 C CNN
F 1 "10k" V 6850 2900 50  0000 C CNN
F 2 "Resistors_SMD:R_0402" V 6780 2900 50  0001 C CNN
F 3 "" H 6850 2900 50  0001 C CNN
	1    6850 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	6850 2750 6850 2700
Connection ~ 6850 2700
Wire Wire Line
	6850 3050 6850 3100
Wire Wire Line
	6850 3100 7200 3100
Connection ~ 7200 3100
Wire Wire Line
	6700 3450 6600 3450
Text Label 9700 3900 2    60   ~ 0
LPUART_TX
Wire Wire Line
	6600 4400 7100 4400
Wire Wire Line
	6600 4550 7100 4550
$EndSCHEMATC
