EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:linear
LIBS:regul
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:lakotamm-microprocessors
LIBS:lakotamm-powersupply
LIBS:lakotamm-sensor
LIBS:lakotamm-transistor
LIBS:lakotamm-wireless
LIBS:MCU_ST_STM32
LIBS:Transistor
LIBS:Connector
LIBS:lakotamm-loadswitch
LIBS:F3K_Battery_manager-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Conn_01x04 J3
U 1 1 5AA070CB
P 4650 2200
F 0 "J3" H 4650 2400 50  0000 C CNN
F 1 "Debug" H 4650 1900 50  0000 C CNN
F 2 "" H 4650 2200 50  0001 C CNN
F 3 "" H 4650 2200 50  0001 C CNN
	1    4650 2200
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR7
U 1 1 5AA0735F
P 5050 2450
F 0 "#PWR7" H 5050 2200 50  0001 C CNN
F 1 "GND" H 5050 2300 50  0000 C CNN
F 2 "" H 5050 2450 50  0001 C CNN
F 3 "" H 5050 2450 50  0001 C CNN
	1    5050 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR8
U 1 1 5AA07C91
P 5050 3300
F 0 "#PWR8" H 5050 3050 50  0001 C CNN
F 1 "GND" H 5050 3150 50  0000 C CNN
F 2 "" H 5050 3300 50  0001 C CNN
F 3 "" H 5050 3300 50  0001 C CNN
	1    5050 3300
	1    0    0    -1  
$EndComp
$Comp
L DRV5032 U1
U 1 1 5AA08B55
P 4250 5650
F 0 "U1" H 4600 5300 60  0000 C CNN
F 1 "DRV5032" H 4000 5300 60  0000 C CNN
F 2 "lakotamm-sensor:X2SON_4_1.10x1.40mm" H 4300 5200 60  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/drv5032.pdf" H 4250 5100 60  0001 C CNN
F 4 "DRV5032FD" H 4250 5650 60  0001 C CNN "MPN"
	1    4250 5650
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 5AA08E27
P 3250 5650
F 0 "C1" H 3275 5750 50  0000 L CNN
F 1 "2u2 6V3" V 3100 5500 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 3288 5500 50  0001 C CNN
F 3 "" H 3250 5650 50  0001 C CNN
F 4 "GRM155D80J225KE95D" H 3250 5650 60  0001 C CNN "MPN"
	1    3250 5650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR6
U 1 1 5AA09559
P 3500 5950
F 0 "#PWR6" H 3500 5700 50  0001 C CNN
F 1 "GND" H 3500 5800 50  0000 C CNN
F 2 "" H 3500 5950 50  0001 C CNN
F 3 "" H 3500 5950 50  0001 C CNN
	1    3500 5950
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR5
U 1 1 5AA0982A
P 3500 5350
F 0 "#PWR5" H 3500 5200 50  0001 C CNN
F 1 "VDD" H 3500 5500 50  0000 C CNN
F 2 "" H 3500 5350 50  0001 C CNN
F 3 "" H 3500 5350 50  0001 C CNN
	1    3500 5350
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR3
U 1 1 5AA09936
P 3250 5350
F 0 "#PWR3" H 3250 5200 50  0001 C CNN
F 1 "VDD" H 3250 5500 50  0000 C CNN
F 2 "" H 3250 5350 50  0001 C CNN
F 3 "" H 3250 5350 50  0001 C CNN
	1    3250 5350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR4
U 1 1 5AA0996B
P 3250 5950
F 0 "#PWR4" H 3250 5700 50  0001 C CNN
F 1 "GND" H 3250 5800 50  0000 C CNN
F 2 "" H 3250 5950 50  0001 C CNN
F 3 "" H 3250 5950 50  0001 C CNN
	1    3250 5950
	1    0    0    -1  
$EndComp
$Comp
L Buzzer BZ1
U 1 1 5AA0FFE4
P 7750 2300
F 0 "BZ1" H 7900 2350 50  0000 L CNN
F 1 "Buzzer" H 7900 2250 50  0000 L CNN
F 2 "" V 7725 2400 50  0001 C CNN
F 3 "http://cirlw3yrzg4afc1x47lv2k18.wpengine.netdna-cdn.com/wp-content/uploads/2016/12/ST-0402T-old.pdf" V 7725 2400 50  0001 C CNN
F 4 "ST-0402T" H 7750 2300 60  0001 C CNN "MPN"
	1    7750 2300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR13
U 1 1 5AA112B0
P 7600 3100
F 0 "#PWR13" H 7600 2850 50  0001 C CNN
F 1 "GND" H 7600 2950 50  0000 C CNN
F 2 "" H 7600 3100 50  0001 C CNN
F 3 "" H 7600 3100 50  0001 C CNN
	1    7600 3100
	1    0    0    -1  
$EndComp
$Comp
L +BATT #PWR12
U 1 1 5AA3F1DA
P 7600 2100
F 0 "#PWR12" H 7600 1950 50  0001 C CNN
F 1 "+BATT" H 7600 2240 50  0000 C CNN
F 2 "" H 7600 2100 50  0001 C CNN
F 3 "" H 7600 2100 50  0001 C CNN
	1    7600 2100
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x03 J5
U 1 1 5AA45C5D
P 10200 4500
F 0 "J5" H 10200 4700 50  0000 C CNN
F 1 "Receiver" H 10200 4300 50  0000 C CNN
F 2 "" H 10200 4500 50  0001 C CNN
F 3 "" H 10200 4500 50  0001 C CNN
	1    10200 4500
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x03 J4
U 1 1 5AA46769
P 4650 3150
F 0 "J4" H 4650 3350 50  0000 C CNN
F 1 "Serial" H 4650 2950 50  0000 C CNN
F 2 "" H 4650 3150 50  0001 C CNN
F 3 "" H 4650 3150 50  0001 C CNN
	1    4650 3150
	-1   0    0    -1  
$EndComp
Text Notes 3850 5300 0    60   ~ 0
Hall efect switch\n
Text Label 7100 3600 0    60   ~ 0
LPUART_TX
$Comp
L CSD13385F5 Q1
U 1 1 5AA728A9
P 2700 2750
F 0 "Q1" V 2650 2850 50  0000 L CNN
F 1 "CSD13385F5" V 2950 2500 50  0000 L CNN
F 2 "" H 2900 2675 50  0001 L CIN
F 3 "http://www.ti.com/lit/ds/symlink/csd13385f5.pdf" H 2000 2450 50  0001 L CNN
F 4 "CSD13385F5" H 2800 3050 60  0001 C CNN "MPN"
	1    2700 2750
	0    -1   1    0   
$EndComp
$Comp
L +BATT #PWR2
U 1 1 5AA74E47
P 3200 2450
F 0 "#PWR2" H 3200 2300 50  0001 C CNN
F 1 "+BATT" H 3200 2590 50  0000 C CNN
F 2 "" H 3200 2450 50  0001 C CNN
F 3 "" H 3200 2450 50  0001 C CNN
	1    3200 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR1
U 1 1 5AA7526D
P 3100 2900
F 0 "#PWR1" H 3100 2650 50  0001 C CNN
F 1 "GND" H 3100 2750 50  0000 C CNN
F 2 "" H 3100 2900 50  0001 C CNN
F 3 "" H 3100 2900 50  0001 C CNN
	1    3100 2900
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x04 J1
U 1 1 5AB08D80
P 2100 2400
F 0 "J1" H 2100 2600 50  0000 C CNN
F 1 "Battery" H 2100 2100 50  0000 C CNN
F 2 "" H 2100 2400 50  0001 C CNN
F 3 "" H 2100 2400 50  0001 C CNN
	1    2100 2400
	-1   0    0    -1  
$EndComp
Text Label 2400 2400 0    60   ~ 0
Thermistor
$Sheet
S 2500 3800 2150 1200
U 5AA3AC9F
F0 "Charger" 60
F1 "charger.sch" 60
F2 "Coil_1" I L 2500 4000 60 
F3 "Coil_2" I L 2500 4100 60 
F4 "Battery_voltage" O R 4650 4100 60 
F5 "Thermistor" I L 2500 4400 60 
F6 "~CHARGING" O R 4650 4300 60 
F7 "Charge_control" I R 4650 4500 60 
F8 "Thermistor_OFF" I L 2500 4550 60 
$EndSheet
$Comp
L Conn_01x02 J2
U 1 1 5AB11894
P 2100 4100
F 0 "J2" H 2100 4200 50  0000 C CNN
F 1 "Coil" H 2100 3900 50  0000 C CNN
F 2 "" H 2100 4100 50  0001 C CNN
F 3 "" H 2100 4100 50  0001 C CNN
	1    2100 4100
	-1   0    0    1   
$EndComp
Text Label 2400 4400 2    60   ~ 0
Thermistor
Text Label 2400 2300 0    60   ~ 0
Thermistor_OFF
Text Label 2400 4550 2    60   ~ 0
Thermistor_OFF
$Comp
L Antenna_Loop AE1
U 1 1 5AB2F1C7
P 1550 4100
F 0 "AE1" H 1600 4350 50  0000 C CNN
F 1 "Antenna_Loop" H 1600 4300 50  0000 C CNN
F 2 "" H 1550 4100 50  0001 C CNN
F 3 "https://www.vishay.com/docs/34338/iwas3827.pdf" H 1550 4100 50  0001 C CNN
F 4 "IWAS3827ECEB100J50" H 1550 4100 60  0001 C CNN "MPN"
	1    1550 4100
	0    -1   -1   0   
$EndComp
NoConn ~ 1750 4000
NoConn ~ 1750 4100
Text Notes 1050 3750 0    60   ~ 0
Antenna - for calculations\nand Kicost\n
$Comp
L CSD13380F3 Q2
U 1 1 5AB5A73F
P 7500 2650
F 0 "Q2" H 7700 2725 50  0000 L CNN
F 1 "CSD13380F3" H 7700 2650 50  0000 L CNN
F 2 "" H 7700 2575 50  0001 L CIN
F 3 "http://www.ti.com/product/CSD13380F3" H 6800 2350 50  0001 L CNN
F 4 "CSD13380F3" H 7500 2650 60  0001 C CNN "MPN"
	1    7500 2650
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5AB6270F
P 7250 2850
F 0 "R1" V 7330 2850 50  0000 C CNN
F 1 "10k" V 7250 2850 50  0000 C CNN
F 2 "Resistors_SMD:R_0402" V 7180 2850 50  0001 C CNN
F 3 "" H 7250 2850 50  0001 C CNN
	1    7250 2850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR16
U 1 1 5AC01FB1
P 9900 4650
F 0 "#PWR16" H 9900 4400 50  0001 C CNN
F 1 "GND" H 9900 4500 50  0000 C CNN
F 2 "" H 9900 4650 50  0001 C CNN
F 3 "" H 9900 4650 50  0001 C CNN
	1    9900 4650
	1    0    0    -1  
$EndComp
Text Label 9900 4400 2    60   ~ 0
LPUART_TX
Wire Wire Line
	4850 2100 5250 2100
Wire Wire Line
	4850 2200 5050 2200
Wire Wire Line
	5050 2200 5050 2450
Wire Wire Line
	4850 2300 5250 2300
Wire Wire Line
	4850 2400 5250 2400
Wire Wire Line
	5250 3050 4850 3050
Wire Wire Line
	4850 3150 5250 3150
Wire Wire Line
	4850 3250 5050 3250
Wire Wire Line
	5050 3250 5050 3300
Wire Wire Line
	3600 5650 3500 5650
Wire Wire Line
	3500 5650 3500 5950
Wire Wire Line
	3600 5850 3500 5850
Connection ~ 3500 5850
Wire Wire Line
	3500 5350 3500 5450
Wire Wire Line
	3500 5450 3600 5450
Wire Wire Line
	3250 5350 3250 5500
Wire Wire Line
	3250 5800 3250 5950
Wire Wire Line
	4850 5550 5250 5550
Wire Wire Line
	4850 5750 5250 5750
Wire Wire Line
	7600 2100 7600 2200
Wire Wire Line
	7600 2200 7650 2200
Wire Wire Line
	7650 2400 7600 2400
Wire Wire Line
	7600 2400 7600 2450
Wire Wire Line
	7600 2850 7600 3100
Wire Wire Line
	7000 2650 7300 2650
Wire Wire Line
	4650 4100 5250 4100
Wire Wire Line
	2300 2500 3200 2500
Wire Wire Line
	2700 2500 2700 2500
Wire Wire Line
	3200 2500 3200 2450
Connection ~ 2700 2500
Wire Wire Line
	2900 2850 3100 2850
Wire Wire Line
	3100 2850 3100 2900
Wire Wire Line
	2300 2600 2400 2600
Wire Wire Line
	2400 2600 2400 2850
Wire Wire Line
	2400 2850 2500 2850
Wire Wire Line
	2300 2400 2400 2400
Wire Wire Line
	2700 2500 2700 2550
Wire Wire Line
	2500 4000 2300 4000
Wire Wire Line
	2300 4100 2500 4100
Wire Wire Line
	2400 4400 2500 4400
Wire Wire Line
	4650 4300 5250 4300
Wire Wire Line
	2300 2300 2400 2300
Wire Wire Line
	2400 4550 2500 4550
Wire Wire Line
	4650 4500 5250 4500
Wire Wire Line
	7250 2700 7250 2650
Connection ~ 7250 2650
Wire Wire Line
	7250 3000 7250 3050
Wire Wire Line
	7250 3050 7600 3050
Connection ~ 7600 3050
Wire Wire Line
	7100 3600 7000 3600
Wire Wire Line
	10000 4600 9900 4600
Wire Wire Line
	9900 4600 9900 4650
Wire Wire Line
	10000 4400 9900 4400
$Sheet
S 5250 1900 1750 4200
U 5A9B3060
F0 "MCU" 60
F1 "MCU.sch" 60
F2 "NRST" I L 5250 2400 60 
F3 "SWCLK" I L 5250 2100 60 
F4 "SWDIO" B L 5250 2300 60 
F5 "USART_RX" I L 5250 3050 60 
F6 "HAL_SEN_1" I L 5250 5550 60 
F7 "HAL_SEN_2" I L 5250 5750 60 
F8 "BUZZER" O R 7000 2650 60 
F9 "USART_TX" B L 5250 3150 60 
F10 "~CHARGING" I L 5250 4300 60 
F11 "Charge_control" O L 5250 4500 60 
F12 "LPUART_TX" B R 7000 3600 60 
F13 "Output_control" O R 7000 4800 60 
$EndSheet
$Sheet
S 7650 4150 1500 900 
U 5AC06660
F0 "Output stage" 60
F1 "Output_stage.sch" 60
F2 "Output_control" I L 7650 4800 60 
F3 "Output_voltage" O L 7650 4500 60 
F4 "VOUT" O R 9150 4500 60 
$EndSheet
Wire Wire Line
	9150 4500 10000 4500
Wire Wire Line
	7650 4800 7000 4800
$EndSCHEMATC
